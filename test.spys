__DATA__
let print "print"

__CODE__
jmp			start

factorial:
	cmp		rdx, 1
	jif		not1
	mov		rax, 1
	jmp		done
not1:
	push	rdx
	sub		rdx, 1
	call	factorial
	pop		rdx
	mul		rax, rdx
done:
	ret

start:
	mov		rdx, 5
	call	factorial
	mov		rdx, rax
	push	1
	ccall	print
	exit
